<?php View::flash(); ?>

<div class="w3-container">

   <?= View::Encab($controller_name, $page_action, $breadcrumb); ?>

   <div class="w3-row w3-section">
      <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-search"></i></div>
      <div class="w3-rest">
            <input class="w3-input w3-border" style="width:30%;" oninput="w3.filterHTML('#myTable', '.item', this.value)"  placeholder="Filtro..">
         </div>
   </div>
   
   <?php
      $tabla = new OdaTable();
      $tabla->setHead(
         arr_head: '°Salon, °Asignatura, Indicadores, Notas', 
         attrs2:   array("onclick=\"w3.sortHTML('#myTable','.item', 'td:nth-child(1)')\"",
                        "onclick=\"w3.sortHTML('#myTable','.item', 'td:nth-child(2)')\"",
         )
      );
      foreach($data as $key => $carga) {
         $d1 = $carga->salon . ' ' .(($user_id==1) ? "[$carga->salon_id]" :'');
         $d2 = OdaUtils::sanearString($carga->asignatura).' '.(($user_id==1)?"[$carga->asignatura_id]":'');
         $d3 = _Tag::link("docentes/indicadores/$carga->asignatura_id/$carga->grado_id", 'Indicadores');
         $d4 = _Tag::link("docentes/notas/$carga->asignatura_id/$carga->salon_id", 'Notas');
         $tabla->setBody( data: [$d1, $d2, $d3, $d4] );
      }
      echo $tabla;
   ?>

</div>
<div class="w3-panel">
   <?= View::Encab($controller_name, $page_action, $breadcrumb); ?>
   <?= View::flash(); ?>

   <div class="w3-row w3-section">
      <?=OdaForm::inputSearch();?>
   </div>
   
   <?php 
      $tabla = new OdaTable(theme: $theme);
      $tabla->setHead(
         arr_head: ['Actions', 'Estudiante', 'Cambiar Salon'], 
         attrs:    'class="w3-theme"', 
         attrs2:   ['style="width:10%;"','style="width:60%;"','style="width:30%;"']
      );
      foreach($data as $key => $Estud) {
         $col1 = $Estud->salon .'<br/>' 
                .$Estud->getIsActiveF() .'<br/>'
                .$Estud->getFoto() .'<br/>' 
                .$Estud->documento .'<br/>';
         $lnk_act_pago = '';
         if(!$Estud->isPazYSalvo()) {
            $lnk_act_pago = '<span class="w3-tag w3-green w3-round">' .Html::linkAction("actualizarPago/$Estud->id/", 'Poner al Dia '._Icons::solid('coins', 'w3-large')). '</span><br/>';
         }
         
         $nombre = $Estud; //((!is_null($Estud->nombre_estudiante)) ? strtoupper($Estud->nombre_estudiante) : 'ERROR en nombre') ;
         $col2 = 'Grado: '.$Estud->grado.'<br/>'
                 .Html::linkAction("estud_edit_activos/$Estud->id/", $nombre.'  '._Icons::solid('pen-to-square', 'w3-large'), "title=\"Click para MODIFICAR DATOS del ESTUDIANTE\"").'<br/>'
                 .$Estud->getCuentaInstit().'<br/>'
                 .$Estud->getCodigo().'<br/>'
                 .'Mes Pagado: '.$Estud->mes_pagado.'<br/>'
                 .$lnk_act_pago.'<br/>'
                 .$Estud->linkOld_BoletinPeriodo();
         $col3 = $Estud->getSalonesCambiar('secretaria');
         $data=[$col1, $col2, $col3];
         $tabla->setBody(
            data: $data, 
            attrs2: ['class="searchTdata w3-center"', 'class="searchTdata"']
         );
      }
      echo $tabla;
   ?>   
</div>

<?= Tag::js("table_filter"); ?>